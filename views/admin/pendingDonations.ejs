<main style="margin-top: 70px;">
	<%- include('../partials/adminSidebar') %>

		<div id="main-wrapper">
			<div class="d-flex align-items-center mb-4">
				<button class="btn btn-light d-lg-none me-3" id="sidebar-toggler-btn"><i
						class="fas fa-bars"></i></button>
				<h2 class="fw-bold text-dark mb-0">Pending Donations</h2>
			</div>

			<div class="card border-0 shadow-sm">
				<div class="card-body p-0">
					<div class="table-responsive">
						<table class="table table-hover align-middle mb-0">
							<thead class="bg-light">
								<tr>
									<th scope="col" class="ps-4">#</th>
									<th scope="col">Donor Name</th>
									<th scope="col">Food Type</th>
									<th scope="col">Quantity</th>
									<th scope="col">Status</th>
									<th scope="col" class="text-end pe-4">Actions</th>
								</tr>
							</thead>
							<tbody>
								<% if(pendingDonations.length===0) { %>
									<tr>
										<td colspan="6" class="text-center py-5">
											<img src="/assets/images/empty-box.svg" alt="No pending donations"
												style="width: 100px; opacity: 0.5;" onerror="this.style.display='none'">
											<p class="text-muted mt-3">No pending donation requests.</p>
										</td>
									</tr>
									<% } %>
										<% for(let i=0; i<pendingDonations.length; i++) { %>
											<tr>
												<td class="ps-4 fw-bold text-muted">
													<%= i+1 %>
												</td>
												<td>
													<div class="d-flex align-items-center">
														<div class="user-icon-sm bg-primary text-white rounded-circle me-2 d-flex align-items-center justify-content-center"
															style="width: 30px; height: 30px; font-size: 0.9rem;">
															<%= pendingDonations[i].donor.firstName[0] %>
														</div>
														<%= pendingDonations[i].donor.firstName + " " +
															pendingDonations[i].donor.lastName %>
													</div>
												</td>
												<td>
													<%= pendingDonations[i].foodType %>
												</td>
												<td>
													<%= pendingDonations[i].quantity %>
												</td>
												<td>
													<span
														class="badge bg-<%= pendingDonations[i].status === 'pending' ? 'warning' : (pendingDonations[i].status === 'accepted' ? 'info' : 'secondary') %>">
														<%= pendingDonations[i].status.toUpperCase() %>
													</span>
												</td>
												<td class="text-end pe-4">
													<a href="/admin/donation/view/<%= pendingDonations[i]._id %>"
														class="btn btn-sm btn-outline-primary">Review</a>
												</td>
											</tr>
											<% } %>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
</main>